import{Z as e,an as a,k as t,r as o,c as s,w as i,j as l,o as n,e as r,a as d,t as u,g as c,h as _,F as f,d as m,i as p}from"./index-MW_-gdzf.js";import{_ as h,a as b}from"./uni-list.CUhviKl_.js";import{r as k}from"./uni-app.es.B2hRzsp_.js";import{_ as g,a as j}from"./unicloud-db.BulCJc-9.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-icons.Dh60WdqE.js";e.database();const y=w({data:()=>({collectionList:"forum_article",loadMore:{contentdown:"",contentrefresh:"",contentnomore:""}}),onPullDownRefresh(){this.$refs.udb.loadData({clear:!0},(()=>{a()}))},onReachBottom(){this.$refs.udb.loadMore()},methods:{handleItemClick(e){t({url:"/pages/detail/detail?id="+e})},fabClick(){t({url:"./add",events:{refreshData:()=>{this.$refs.udb.loadData({clear:!0})}}})}}},[["render",function(e,a,t,w,y,C){const v=l,D=p,M=k(o("uni-list-item"),h),$=k(o("uni-list"),b),x=k(o("uni-load-more"),g),L=k(o("unicloud-db"),j);return n(),s(v,{class:"container"},{default:i((()=>[r(L,{ref:"udb",collection:y.collectionList,where:"user_id==$cloudEnv_uid",orderby:"publish_date desc",field:"user_id,title,description,province,content,view_count,like_count,comment_count,picUrls,publish_date,publish_ip,last_modify_date,last_modify_ip"},{default:i((({data:e,pagination:a,loading:t,hasMore:o,error:l})=>[l?(n(),s(v,{key:0},{default:i((()=>[d(u(l.message),1)])),_:2},1024)):e?(n(),s(v,{key:1},{default:i((()=>[r($,null,{default:i((()=>[(n(!0),c(f,null,_(e,((e,a)=>(n(),s(M,{key:a,showArrow:"",clickable:!0,onClick:a=>C.handleItemClick(e._id)},{body:i((()=>[r(D,null,{default:i((()=>[d(u(e.title),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)):m("",!0),r(x,{status:t?"loading":o?"more":"noMore"},null,8,["status"])])),_:1},8,["collection"])])),_:1})}]]);export{y as default};
