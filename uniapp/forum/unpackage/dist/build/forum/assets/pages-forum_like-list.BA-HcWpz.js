import{Z as e,an as a,k as t,r as l,c as o,w as i,j as s,o as r,e as d,a as n,t as c,g as u,h as f,F as m,d as _,i as p}from"./index-MW_-gdzf.js";import{_ as h,a as k}from"./uni-list.CUhviKl_.js";import{r as b}from"./uni-app.es.B2hRzsp_.js";import{_ as g,a as j}from"./unicloud-db.BulCJc-9.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-icons.Dh60WdqE.js";const C=e.database();const y=w({data:()=>({collectionList:[C.collection("forum_like").where("user_id==$cloudEnv_uid").getTemp(),C.collection("forum_article").field("_id,title").getTemp()],loadMore:{contentdown:"",contentrefresh:"",contentnomore:""}}),onPullDownRefresh(){this.$refs.udb.loadData({clear:!0},(()=>{a()}))},onReachBottom(){this.$refs.udb.loadMore()},methods:{handleItemClick(e){t({url:"/pages/detail/detail?id="+e})},fabClick(){t({url:"./add",events:{refreshData:()=>{this.$refs.udb.loadData({clear:!0})}}})}}},[["render",function(e,a,t,w,C,y){const D=s,M=p,$=b(l("uni-list-item"),h),v=b(l("uni-list"),k),x=b(l("uni-load-more"),g),L=b(l("unicloud-db"),j);return r(),o(D,{class:"container"},{default:i((()=>[d(L,{ref:"udb",collection:C.collectionList,orderby:"like_date desc",field:"article_id,user_id,like_date"},{default:i((({data:e,pagination:a,loading:t,hasMore:l,error:s})=>[s?(r(),o(D,{key:0},{default:i((()=>[n(c(s.message),1)])),_:2},1024)):e?(r(),o(D,{key:1},{default:i((()=>[d(v,null,{default:i((()=>[(r(!0),u(m,null,f(e,((e,a)=>(r(),o($,{key:a,showArrow:"",clickable:!0,onClick:a=>y.handleItemClick(e.article_id[0]._id)},{body:i((()=>[d(M,null,{default:i((()=>[n(c(e.article_id[0].title),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)):_("",!0),d(x,{status:t?"loading":l?"more":"noMore"},null,8,["status"])])),_:1},8,["collection"])])),_:1})}]]);export{y as default};
