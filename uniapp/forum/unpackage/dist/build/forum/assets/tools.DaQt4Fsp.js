import{a5 as e,am as a,a3 as r}from"./index-MW_-gdzf.js";function t(e,a=3){let r=[];return e.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/g,((e,a)=>{r.push(a)})),r=r.slice(0,a),r}function i(){return new Promise(((a,r)=>{let t=e("historyProvince");t?Date.now()-t.time>36e5?n().then((e=>{a(e)})).catch((e=>{r(e)})):a(t.province):n().then((e=>{a(e)})).catch((e=>{r(e)}))}))}function n(){return new Promise(((e,t)=>{a({url:"https://restapi.amap.com/v3/ip?key=7202a754ec3c0a87e7a503b64e8cac2c",success:a=>{let t="";t="string"==typeof a.data.province?a.data.province:"火星",e(t);let i={province:t,time:Date.now()};r("historyProvince",i)},fail:e=>{t(e)}})}))}function c(e){return e.user_id[0].nickname||e.user_id[0].username||e.user_id[0].mobile||"匿名用户"}function s(e){var a,r;return(null==(r=null==(a=e.user_id[0])?void 0:a.avatar_file)?void 0:r.url)??"../../static/images/user-default.jpg"}export{c as a,i as b,t as c,s as g};
