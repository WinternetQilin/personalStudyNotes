{"version":3,"file":"edit.js","sources":["pages/address/edit.vue","../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWRkcmVzcy9lZGl0LnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"addressForm\">\r\n\t\t<uv-form labelPosition=\"top\" :model=\"addressForm\" :rules=\"addressRules\" labelWidth=\"100\" ref=\"uForm\">\r\n\r\n\t\t\t<uv-form-item label=\"姓名\" prop=\"username\">\r\n\t\t\t\t<uv-input v-model=\"addressForm.username\" placeholder=\"请输入姓名\"></uv-input>\r\n\t\t\t</uv-form-item>\r\n\r\n\r\n\t\t\t<uv-form-item label=\"联系电话\" prop=\"mobile\">\r\n\t\t\t\t<uv-input v-model=\"addressForm.mobile\" placeholder=\"请输入联系电话\"></uv-input>\r\n\t\t\t</uv-form-item>\r\n\r\n\t\t\t<uv-form-item label=\"选择地区\">\r\n\t\t\t\t<uni-data-picker v-model=\"addressForm.area_code\" placeholder=\"请选择地址\" popup-title=\"请选择所在地区\"\r\n\t\t\t\t\tcollection=\"opendb-city-china\" field=\"code as value, name as text\" orderby=\"value asc\"\r\n\t\t\t\t\tself-field=\"code\" parent-field=\"parent_code\" @change=\"pickerChange\">\r\n\t\t\t\t</uni-data-picker>\r\n\t\t\t</uv-form-item>\r\n\r\n\r\n\t\t\t<uv-form-item label=\"详细地址\" prop=\"address\">\r\n\t\t\t\t<uv-input v-model=\"addressForm.address\" placeholder=\"请输入街道门牌号\"></uv-input>\r\n\t\t\t</uv-form-item>\r\n\r\n\t\t\t<uv-form-item label=\"是否默认\">\r\n\t\t\t\t<uv-switch v-model=\"addressForm.selected\" inactiveColor=\"#eee\"></uv-switch>\r\n\t\t\t</uv-form-item>\r\n\r\n\t\t\t<uv-form-item></uv-form-item>\r\n\r\n\t\t\t<uv-form-item>\r\n\t\t\t\t<uv-button type=\"primary\" @click=\"onSubmit\">提交</uv-button>\r\n\t\t\t</uv-form-item>\r\n\r\n\t\t</uv-form>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref\r\n\t} from 'vue';\r\n\timport {\r\n\t\tfunc\r\n\t} from '../../uni_modules/uv-ui-tools/libs/function/test';\r\n\r\n\tlet uForm = ref(null)\r\n\tlet addressForm = ref({\r\n\t\tusername: \"\",\r\n\t\tmobile: \"\",\r\n\t\taddress: \"\",\r\n\t\tselected: false,\r\n\t\tarea_code: \"\",\r\n\t\tarea_name: \"\"\r\n\t})\r\n\tlet addressRules = {\r\n\t\tusername: [{\r\n\t\t\trequired: true,\r\n\t\t\tmessage: '姓名是必填的',\r\n\t\t\ttrigger: ['blur', 'change']\r\n\t\t}, {\r\n\t\t\tmin: 2,\r\n\t\t\tmax: 8,\r\n\t\t\tmessage: '长度在2-8个字符之间',\r\n\t\t\ttrigger: ['blur', 'change']\r\n\t\t}],\r\n\t\tmobile: [{\r\n\t\t\trequired: true,\r\n\t\t\tmessage: '电话是必填的',\r\n\t\t\ttrigger: ['blur', 'change']\r\n\t\t}, {\r\n\t\t\tvalidator: (rule, value, callback) => {\r\n\t\t\t\treturn uni.$uv.test.mobile(value);\r\n\t\t\t},\r\n\t\t\tmessage: '手机号格式不正确',\r\n\t\t\ttrigger: ['change', 'blur']\r\n\t\t}],\r\n\t\taddress: [{\r\n\t\t\trequired: true,\r\n\t\t\tmessage: '地址是必填的',\r\n\t\t\ttrigger: ['blur', 'change']\r\n\t\t}]\r\n\t}\r\n\r\n\tfunction onSubmit() {\r\n\t\tuForm.value.validate().then(async res => {\r\n\t\t\tlet title;\r\n\t\t\tif (this.addressForm._id) {\r\n\t\t\t\tlet resData = await addressCloudObj.updateOne(this.addressForm)\r\n\t\t\t\ttitle = \"修改成功\"\r\n\t\t\t} else {\r\n\t\t\t\tlet resData = await addressCloudObj.add(this.addressForm)\r\n\t\t\t\ttitle = \"新增成功\"\r\n\t\t\t}\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle,\r\n\t\t\t\tmask: true\r\n\t\t\t})\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tuni.navigateBack()\r\n\t\t\t}, 1000)\r\n\r\n\r\n\t\t}).catch(errors => {\r\n\t\t\tuni.$uv.toast('校验失败')\r\n\t\t})\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.addressForm {\r\n\t\tpadding: 30rpx;\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/zmq/Documents/GitHub/personalStudyNotes/uniapp/xxmMall/pages/address/edit.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AA+CC,QAAI,QAAQA,cAAG,IAAC,IAAI;AACpB,QAAI,cAAcA,cAAAA,IAAI;AAAA,MACrB,UAAU;AAAA,MACV,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,UAAU;AAAA,MACV,WAAW;AAAA,MACX,WAAW;AAAA,IACb,CAAE;AACD,QAAI,eAAe;AAAA,MAClB,UAAU,CAAC;AAAA,QACV,UAAU;AAAA,QACV,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ,QAAQ;AAAA,MAC7B,GAAK;AAAA,QACF,KAAK;AAAA,QACL,KAAK;AAAA,QACL,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ,QAAQ;AAAA,MAC7B,CAAG;AAAA,MACD,QAAQ,CAAC;AAAA,QACR,UAAU;AAAA,QACV,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ,QAAQ;AAAA,MAC7B,GAAK;AAAA,QACF,WAAW,CAAC,MAAM,OAAO,aAAa;AACrC,iBAAOC,cAAG,MAAC,IAAI,KAAK,OAAO,KAAK;AAAA,QAChC;AAAA,QACD,SAAS;AAAA,QACT,SAAS,CAAC,UAAU,MAAM;AAAA,MAC7B,CAAG;AAAA,MACD,SAAS,CAAC;AAAA,QACT,UAAU;AAAA,QACV,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ,QAAQ;AAAA,MAC7B,CAAG;AAAA,IACD;AAED,aAAS,WAAW;AACnB,YAAM,MAAM,SAAU,EAAC,KAAK,OAAM,QAAO;AACxC,YAAI;AACJ,YAAI,KAAK,YAAY,KAAK;AACX,gBAAM,gBAAgB,UAAU,KAAK,WAAW;AAC9D,kBAAQ;AAAA,QACZ,OAAU;AACQ,gBAAM,gBAAgB,IAAI,KAAK,WAAW;AACxD,kBAAQ;AAAA,QACR;AACDA,sBAAAA,MAAI,UAAU;AAAA,UACb;AAAA,UACA,MAAM;AAAA,QACV,CAAI;AACD,mBAAW,MAAM;AAChBA,wBAAAA,MAAI,aAAc;AAAA,QAClB,GAAE,GAAI;AAAA,MAGV,CAAG,EAAE,MAAM,YAAU;AAClBA,4BAAI,IAAI,MAAM,MAAM;AAAA,MACvB,CAAG;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1GF,GAAG,WAAW,eAAe;"}