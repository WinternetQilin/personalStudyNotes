{"version":3,"file":"category.js","sources":["pages_manage/category/category.vue","../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNfbWFuYWdlXGNhdGVnb3J5XGNhdGVnb3J5LnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"category\">\r\n\t\t<view class=\"row add\" @click=\"clickAdd\">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<uv-icon name=\"plus\" color=\"#576b95\" size=\"22\"></uv-icon>\r\n\t\t\t\t<text class=\"text\">新增分类</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"row\" v-for=\"(item,index) in categoryList\" :key=\"item._id\">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<view class=\"name\">{{item.name}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right\">\r\n\t\t\t\t<uv-icon name=\"edit-pen\" size=\"26\" color=\"#576b95\" @click=\"updateData(item._id,item.name)\"></uv-icon>\r\n\t\t\t\t<uv-icon name=\"trash\" size=\"26\" color=\"#EC544F\" @click=\"deleteData(item._id)\"></uv-icon>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<uni-popup ref=\"inputDialog\">\r\n\t\t\t<uni-popup-dialog mode=\"input\" :value=\"iptValue\" placeholder=\"请输入分类名称\" title=\"分类名称\"\r\n\t\t\t\t@confirm=\"dialogConfirm\"></uni-popup-dialog>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref\r\n\t} from 'vue'\r\n\r\n\tlet categoryList = [{\r\n\t\tname: '1'\r\n\t}]\r\n\tlet iptValue = ref('')\r\n\tlet updateID = ref(null)\r\n\r\n\tlet inputDialog = ref(null)\r\n\r\n\tfunction getCateGory() {\r\n\t\tdb.collection(\"kt-mall-category\").get().then(res => {\r\n\t\t\tconsole.log(res);\r\n\t\t\tthis.categoryList = res.result.data\r\n\t\t})\r\n\t}\r\n\t//添加分类\r\n\tfunction clickAdd() {\r\n\t\tiptValue.value = \"\"\r\n\t\tupdateID.value = null;\r\n\t\tinputDialog.value.open();\r\n\t}\r\n\t//点击确认按钮\r\n\tasync function dialogConfirm(e) {\r\n\t\tiptValue.value = e;\r\n\t\tif (this.updateID) {\r\n\t\t\tawait db.collection(\"kt-mall-category\").doc(this.updateID).update({\r\n\t\t\t\tname: this.iptValue\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tawait db.collection(\"kt-mall-category\").add({\r\n\t\t\t\tname: this.iptValue\r\n\t\t\t})\r\n\t\t}\r\n\t\tthis.getCateGory();\r\n\t}\r\n\r\n\t//修改一条分类\r\n\tfunction updateData(id, name) {\r\n\t\t// this.iptValue = name;\r\n\t\t// this.updateID = id;\r\n\t\t// this.$refs.inputDialog.open();\r\n\t}\r\n\r\n\t//删除一条分类\r\n\tfunction deleteData(id) {\r\n\t\tuni.showModal({\r\n\t\t\tcontent: \"是否删除该分类?\",\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t// db.collection(\"kt-mall-category\").doc(id).remove().then(res => {\r\n\t\t\t\t\t// \tthis.getCateGory();\r\n\t\t\t\t\t// })\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail: err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.category {\r\n\t\tpadding: 30rpx;\r\n\r\n\t\t.row {\r\n\t\t\t@include flex-box();\r\n\t\t\tborder-bottom: 1px solid $border-color-light;\r\n\t\t\tpadding: 26rpx 0;\r\n\r\n\t\t\t.left {\r\n\t\t\t\tfont-size: 34rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.right {\r\n\t\t\t\t@include flex-box();\r\n\r\n\t\t\t\t.uv-icon {\r\n\t\t\t\t\tmargin-left: 30rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.row.add {\r\n\t\t\t.left {\r\n\t\t\t\tcolor: $brand-theme-color-aux;\r\n\t\t\t\t@include flex-box();\r\n\r\n\t\t\t\t.text {\r\n\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\tpadding-left: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/zmq/Documents/GitHub/personalStudyNotes/uniapp/xxmMall/pages_manage/category/category.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni"],"mappings":";;;;;;;;;;;;;;;;;AA8BC,QAAI,eAAe,CAAC;AAAA,MACnB,MAAM;AAAA,IACR,CAAE;AACD,QAAI,WAAWA,cAAG,IAAC,EAAE;AACrB,QAAI,WAAWA,cAAG,IAAC,IAAI;AAEvB,QAAI,cAAcA,cAAG,IAAC,IAAI;AAS1B,aAAS,WAAW;AACnB,eAAS,QAAQ;AACjB,eAAS,QAAQ;AACjB,kBAAY,MAAM;IAClB;AAED,mBAAe,cAAc,GAAG;AAC/B,eAAS,QAAQ;AACjB,UAAI,KAAK,UAAU;AAClB,cAAM,GAAG,WAAW,kBAAkB,EAAE,IAAI,KAAK,QAAQ,EAAE,OAAO;AAAA,UACjE,MAAM,KAAK;AAAA,QACf,CAAI;AAAA,MACJ,OAAS;AACN,cAAM,GAAG,WAAW,kBAAkB,EAAE,IAAI;AAAA,UAC3C,MAAM,KAAK;AAAA,QACf,CAAI;AAAA,MACD;AACD,WAAK,YAAW;AAAA,IAChB;AAGD,aAAS,WAAW,IAAI,MAAM;AAAA,IAI7B;AAGD,aAAS,WAAW,IAAI;AACvBC,oBAAAA,MAAI,UAAU;AAAA,QACb,SAAS;AAAA,QACT,SAAS,SAAO;AACf,cAAI,IAAI;AAAS;AAAA,QAKjB;AAAA,QACD,MAAM,SAAO;AACZA,wBAAAA,MAAA,MAAA,OAAA,4CAAY,GAAG;AAAA,QACf;AAAA,MACJ,CAAG;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtFF,GAAG,WAAW,eAAe;"}